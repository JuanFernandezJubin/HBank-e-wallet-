{"ast":null,"code":"import axios from 'axios';\nimport { CREATE_USER, LOGIN_USER } from \"../constans/constans\";\nvar url = 'localhost:3000' || '192.168.1.84:3000';\nexport function createUser(userData) {\n  return function (dispatch) {\n    console.log(userData);\n    axios.post(\"http://\" + url + \"/api/users/create\", userData).then(function (res) {\n      console.log(res.data);\n      dispatch({\n        type: CREATE_USER,\n        users: res.data || {},\n        createUserSuccess: true\n      });\n    }).catch(function (error) {\n      console.log(\"Api call error\");\n      alert(error.message);\n    });\n  };\n}\n;\nexport var loginUser = function loginUser(email, password) {\n  return function (dispatch) {\n    axios.post(url + \"/api/auth/login\", {\n      email: email,\n      password: password\n    }).then(function (res) {\n      var token = res.data.token;\n      console.log(res);\n\n      if (token) {\n        localStorage.setItem(\"token\", token);\n        dispatch({\n          type: LOGIN_USER\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};","map":{"version":3,"sources":["C:/wamp/www/Henry/HenryBanks/native/store/actions/userActions.js"],"names":["axios","CREATE_USER","LOGIN_USER","url","createUser","userData","dispatch","console","log","post","then","res","data","type","users","createUserSuccess","catch","error","alert","message","loginUser","email","password","token","localStorage","setItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,UAAtB;AAEA,IAAMC,GAAG,GAAI,oBAAoB,mBAAjC;AAGA,OAAO,SAASC,UAAT,CAAoBC,QAApB,EAA8B;AACjC,SAAM,UAACC,QAAD,EAAc;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACAL,IAAAA,KAAK,CAACS,IAAN,aAAqBN,GAArB,wBAA6CE,QAA7C,EACKK,IADL,CACU,UAAAC,GAAG,EAAI;AACTJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,IAAhB;AACAN,MAAAA,QAAQ,CAAC;AACLO,QAAAA,IAAI,EAAEZ,WADD;AAELa,QAAAA,KAAK,EAAEH,GAAG,CAACC,IAAJ,IAAY,EAFd;AAGLG,QAAAA,iBAAiB,EAAE;AAHd,OAAD,CAAR;AAKH,KARL,EAQOC,KARP,CAQa,UAACC,KAAD,EAAS;AACdV,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAU,MAAAA,KAAK,CAACD,KAAK,CAACE,OAAP,CAAL;AACF,KAXN;AAYH,GAdD;AAeH;AAAA;AAED,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAQC,QAAR;AAAA,SAAqB,UAAChB,QAAD,EAAc;AAEtDN,IAAAA,KAAK,CACFS,IADH,CACWN,GADX,sBACiC;AAC7BkB,MAAAA,KAAK,EAAEA,KADsB;AAE7BC,MAAAA,QAAQ,EAAEA;AAFmB,KADjC,EAKGZ,IALH,CAKQ,UAACC,GAAD,EAAS;AACb,UAAMY,KAAK,GAAGZ,GAAG,CAACC,IAAJ,CAASW,KAAvB;AACAhB,MAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;;AACA,UAAIY,KAAJ,EAAW;AACTC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,KAA9B;AACAjB,QAAAA,QAAQ,CAAC;AACPO,UAAAA,IAAI,EAAEX;AADC,SAAD,CAAR;AAYD;AAEF,KAxBH,EAyBGc,KAzBH,CAyBS,UAACC,KAAD,EAAW;AAChBV,MAAAA,OAAO,CAACC,GAAR,CAAYS,KAAZ;AACC,KA3BL;AA8BH,GAhCsB;AAAA,CAAlB","sourcesContent":["import axios from 'axios';\nimport { CREATE_USER, LOGIN_USER } from '../constans/constans';\n\nconst url =  'localhost:3000' || '192.168.1.84:3000';\n\n// CREAR USUARIO\nexport function createUser(userData) {\n    return(dispatch) => {\n        console.log(userData);\n        axios.post(`http://${url}/api/users/create`, userData)\n            .then(res => {\n                console.log(res.data)\n                dispatch({\n                    type: CREATE_USER,\n                    users: res.data || {},\n                    createUserSuccess: true,\n                });\n            }).catch((error)=>{\n                console.log(\"Api call error\");\n                alert(error.message);\n             });\n    }\n};\n\nexport const loginUser = (email, password) => (dispatch) => {\n   \n      axios\n        .post(`${url}/api/auth/login`, {\n          email: email,\n          password: password,\n        })\n        .then((res) => {\n          const token = res.data.token;\n          console.log(res)\n          if (token) {\n            localStorage.setItem(\"token\", token);\n            dispatch({\n              type: LOGIN_USER,\n            });\n\n            /* dispatch(getCurrentUser(token));\n            Swal.fire({\n              position: \"center\",\n              icon: \"success\",\n              title: `Â¡Bienvenido!`,\n              showConfirmButton: false,\n              timer: 2000,\n            }); */\n          }\n          \n        })\n        .catch((error) => {\n          console.log(error)\n          });\n        \n    \n  };\n\n /*  export const getCurrentUser = (token) => async (dispatch) => {\n  //Headers con Token\n  let config = {\n    headers: { Authorization: `Bearer ${token}` },\n  };\n\n  await axios.get(`${url}/users/me/`, config).then((res) => {\n    dispatch({\n      type: actionTypes.CURRENT_USER,\n      user: res.data,\n    });\n  });\n}; */"]},"metadata":{},"sourceType":"module"}